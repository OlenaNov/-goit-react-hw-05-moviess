"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[688],{1688:function(e,n,r){r.r(n),r.d(n,{default:function(){return N}});var t,a,u,i,s,c,o=r(3433),f=r(5861),l=r(9439),p=r(4687),v=r.n(p),d=r(2791),h=r(1087),m=r(7961),x=r.n(m),b=r(5264),Z=r(9841),g=r(168),k=r(6444),w=k.ZP.form(t||(t=(0,g.Z)(["\n    padding: 36px;\n"]))),y=k.ZP.input(a||(a=(0,g.Z)(["\n    padding: 8px;\n"]))),j=k.ZP.button(u||(u=(0,g.Z)(["\n    padding: 8px;\n"]))),P=r(184),S=function(e){var n=e.onSubmitForm,r=(0,d.useState)(""),t=(0,l.Z)(r,2),a=t[0],u=t[1];return(0,P.jsxs)(w,{onSubmit:function(e){e.preventDefault(),a?(n(a),u("")):b.Notify.failure("Please, write the name of the movie!")},children:[(0,P.jsx)(y,{type:"text",value:a,onChange:function(e){return u(e.target.value)}}),(0,P.jsx)(j,{type:"submit",children:"Search"})]})},_=r(7689),C=k.ZP.ul(i||(i=(0,g.Z)(["\n    list-style: none;\n\n"]))),O=k.ZP.li(s||(s=(0,g.Z)(["\n    padding: 8px;\n"]))),E=(0,k.ZP)(h.rU)(c||(c=(0,g.Z)(["\n    text-decoration: none;\n    color: #5252d4;\n"]))),F=function(e){var n=e.items,r=(0,_.TH)();return(0,P.jsx)(C,{children:n.map((function(e){return(0,P.jsx)(O,{children:(0,P.jsx)(E,{to:"".concat(e.id),state:{from:r},children:e.title})},e.id)}))})},N=function(){var e=(0,d.useState)(!1),n=(0,l.Z)(e,2),r=n[0],t=n[1],a=(0,d.useState)([]),u=(0,l.Z)(a,2),i=u[0],s=u[1],c=(0,h.lr)(),p=(0,l.Z)(c,2),m=p[0],g=p[1],k=m.get("value"),w=(0,d.useRef)(!0);(0,d.useEffect)((function(){return(0,f.Z)(v().mark((function e(){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.current){e.next=2;break}return e.abrupt("return");case 2:if(w.current=!1,""!==k){e.next=6;break}return e.abrupt("return");case 6:return e.prev=7,t(!0),e.next=11,(0,Z.Z)("/3/search/movie",k);case 11:n=e.sent,s((0,o.Z)(n.results)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),b.Notify.failure("OOps! Error loading information. Please, try again!");case 18:return e.prev=18,t(!1),e.finish(18);case 21:case 22:case"end":return e.stop()}}),e,null,[[7,15,18,21]])})))}),[k]);var y=function(){var e=(0,f.Z)(v().mark((function e(n){var r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g({value:n}),e.prev=1,t(!0),e.next=5,(0,Z.Z)("/3/search/movie",n);case 5:r=e.sent,s((0,o.Z)(r.results)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),b.Notify.failure("OOps! Error loading information. Please, try again!");case 12:return e.prev=12,t(!1),e.finish(12);case 15:case 16:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(n){return e.apply(this,arguments)}}();return(0,P.jsxs)(P.Fragment,{children:[r&&(0,P.jsx)(x(),{color:"#eb1736"}),(0,P.jsx)(S,{onSubmitForm:y}),i?(0,P.jsx)(F,{items:i}):null]})}},9841:function(e,n,r){var t=r(5861),a=r(4687),u=r.n(a),i=r(4569),s=r.n(i);s().defaults.baseURL="https://api.themoviedb.org";var c=function(){var e=(0,t.Z)(u().mark((function e(n,r){var t,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new AbortController,e.next=3,s().get(n,{params:{api_key:"84bdbe2f4baecea0c1be28902afc6a5b",signal:t.signal,query:r}});case 3:return a=e.sent,t.abort(),e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}();n.Z=c}}]);
//# sourceMappingURL=688.4af39a69.chunk.js.map